<div class="relative h-full w-full bg-black">
  <!-- Remote video -->
  <video #remoteVideo autoplay class="h-full w-full object-cover"></video>

  <!-- Local video -->
  <div class="absolute bottom-4 right-4 w-1/4 max-w-xs">
    <video #localVideo autoplay muted [class.opacity-0]="isVideoOff" class="w-full rounded-lg shadow-lg"></video>
  </div>

  <!-- Call controls -->
  <div class="absolute bottom-8 left-0 right-0 flex justify-center space-x-4">
    <button (click)="toggleMute()" [class.bg-red-500]="isMuted" class="p-3 rounded-full bg-gray-700 text-white hover:bg-gray-600">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path *ngIf="!isMuted" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
        <path *ngIf="isMuted" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"></path>
      </svg>
    </button>
    <button (click)="toggleVideo()" [class.bg-red-500]="isVideoOff" class="p-3 rounded-full bg-gray-700 text-white hover:bg-gray-600">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path *ngIf="!isVideoOff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        <path *ngIf="isVideoOff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"></path>
      </svg>
    </button>
    <button (click)="toggleFullscreen()" class="p-3 rounded-full bg-gray-700 text-white hover:bg-gray-600">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
      </svg>
    </button>
    <button (click)="hangUp()" class="p-3 rounded-full bg-red-500 text-white hover:bg-red-600">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z"></path>
      </svg>
    </button>
  </div>

  <!-- Call info -->
  <div class="absolute top-4 left-4 text-white">
    <h3 class="text-xl font-semibold">Video Call</h3>
    <p class="text-sm">{{ callDuration | date:'mm:ss' }}</p>
  </div>

  <!-- Incoming call UI -->
  <div *ngIf="isRinging" class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-70">
    <div class="text-center text-white">
      <h3 class="text-2xl font-bold mb-2">Incoming Call</h3>
      <div class="flex justify-center space-x-4 mt-6">
        <button (click)="answerIncomingCall()" class="p-3 rounded-full bg-green-500 text-white hover:bg-green-600">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </button>
        <button (click)="rejectCall()" class="p-3 rounded-full bg-red-500 text-white hover:bg-red-600">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
